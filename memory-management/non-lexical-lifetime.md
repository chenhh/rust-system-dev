# NLL\(non-lexical-lifetime\)

## 簡介

Rust防範“記憶體不安全”程式碼的原則極其清晰明瞭。

* 如果你對同一塊記憶體存在多個引用，就不要試圖對這塊記憶體做修改；
* 如果你需要對一塊記憶體做修改，就不要同時保留多個引用。

只要保證了這個原則，我們就可以保證記憶體安全。它在實踐中發揮了強大的作用，可以幫助我們儘早發現問題。

這個原則是沒問題的，但是，初始的實現版本有一個主要問題，那就是它讓借用指標的生命週期規則與普通物件的生命週期規則一樣，是按作用域來確定的。**所有的變數、借用的生命週期就是從它的聲明開始，到當前整個語句塊結束。這個設計被稱為Lexical Lifetime，因為生命週期是嚴格和詞法中的作用域範圍綁定的**。這個策略實現起來非常簡單，但它可能過於保守了，某些情況下借用的範圍被過度拉長了，以至於某些實質上是安全的程式碼也被阻止了。在某些場景下，限制了程式設計師的發揮。

